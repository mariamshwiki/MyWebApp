<!DOCTYPE html>
<html lang="en">
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>sign up</title>

    <link rel="stylesheet" type="text/css" href="styl2.css">
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@500&display=swap" rel="stylesheet">

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="js/userFroms.js"></script>

</head>
<body>
<div class="main">
    <input type="checkbox" id="chk" aria-hidden="true">
    <div class="signup">

        <form id="userForm">
            <label for="chk" aria-hidden="true">Sign up</label>
            <input type="text" id="firstName" name="firstName" placeholder="User name" required="">
            <input type="text" id="email" name="email" placeholder="Email" required="">
            <input type="text" id="phoneNumber" name="phoneNumber" placeholder="phoneNumber " required="">
            <input type="text" id="password" name="password" placeholder="enter  password " required="">

            <button  type="submit">Save</button><!--onclick="savePerson()-->
        </form>

    </div>

    <div class="login">
        <form id="login">
            <label for="chk" aria-hidden="true">Login</label>
            <input type="text" id="loginEmail" name="email" placeholder="Email" required>
            <input type="password" id="loginPassword" name="password" placeholder="Password" required>
            <button type="submit">Login</button>
        </form>
    </div>
</div>

<script>
    $("#login").submit(function (event) {
    event.preventDefault();
    let user = {
        email: $("#loginEmail").val(),
        password: $("#loginPassword").val()
    };
    //alert(JSON.stringify(user))
    $.ajax({
        type: "POST", // Corrected 'Post' to 'POST'
        url: "/user/login",
        contentType: "application/json",
        data: JSON.stringify(user),
        success: function (data) {
       // alert(JSON.stringify(data))
        if(data.password==null){
        alert("this is wrong");
        }
        // Changed parameter name to avoid conflict with 'user' variable
         else{   alert("User logged in successfully!"); // Changed the alert message for clarity
            window.location.href = "/profile3.html";
            }
        },
        error: function (error) {
            console.log("Error logging in: ", error); // Updated error message for clarity
        }
    });
});

</script>

</body>
</html>